# Round 6: Round 4参数 + 固定地形

## 核心策略

**假设**: Round 4参数已经很好（达到153.29），但被随机地形的不稳定性限制了

**验证**: 在固定地形上使用Round 4参数，看能否突破200

## 参数配置

### Round 4 参数（已验证有效）
```python
POPULATION_SIZE = 180
GENERATIONS = 400
MUTATION_RATE = 0.25
MUTATION_SCALE = 0.5
CROSSOVER_RATE = 0.75
ELITE_RATIO = 0.015  # 3个精英
TOURNAMENT_SIZE = 5
HIDDEN_LAYERS = [256, 128, 64]
```

### 新增：固定地形
```python
USE_FIXED_TERRAIN = True
TERRAIN_SEEDS = [42, 123, 456, 789, 1024]  # 5个固定地形
EVAL_EPISODES = 1  # 固定地形后不需要多次评估
```

## Round 4 vs Round 6

| 特性 | Round 4 | Round 6 |
|------|---------|---------|
| 种群大小 | 180 | 180 |
| 训练代数 | 400 | 400 |
| 变异率 | 0.25 | 0.25 |
| **地形模式** | **随机** | **固定** ⭐ |
| 评估次数/个体 | 1次随机 | 5个固定地形 |
| 最佳Fitness | 153.29 | **目标>200** |

## 预期优势

### 1. 更稳定的训练曲线
- Round 4在Gen 336后停滞64代
- 可能原因：随机地形导致评估不准，优秀基因被误淘汰
- 固定地形后：每次评估都准确，真正的进步不会被埋没

### 2. 更准确的选择
```
Round 4 (随机地形):
Gen 336: 个体A在简单地形 → fitness 153 ✓ 被保留
Gen 337: 个体A在困难地形 → fitness 120 ✗ 可能被淘汰

Round 6 (固定地形):
每代: 个体A在固定5个地形 → 平均fitness稳定 ✓ 公平竞争
```

### 3. 更快收敛
- 不需要运气好才能突破
- 每次NEW RECORD都是真实进步
- 预计能突破Round 4的153.29瓶颈

## 时间成本

```
Round 4: 180个体 × 400代 × 1次评估 = 72,000次环境运行
Round 6: 180个体 × 400代 × 5个地形 = 360,000次环境运行

但！固定地形意味着：
- 不需要多次试错找好地形
- 评估更准确，进化更有方向性
- 可能更快达到目标

预计总时间: ~3-4小时
```

## 成功标准

✅ **主要目标**: 最佳Fitness > 200
✅ **次要目标**: 视频中机器人能走到终点
✅ **验证**: 固定地形能显著提升训练稳定性

## 如果成功

说明：
1. Round 4参数是好的
2. 随机地形是主要限制因素
3. 固定地形是正确的方向

## 如果失败（<200）

可能原因：
1. 参数仍需调整（可能需要更大变异）
2. 网络容量不足
3. 400代不够

下一步：
- 尝试更大的变异率（0.30）
- 增加训练代数到500
- 考虑更复杂的网络结构

## 监控要点

关注：
1. 是否还会出现长时间停滞（如Round 4的64代）
2. 训练曲线是否更平滑
3. NEW RECORD频率是否更高
4. 最终能否突破200

