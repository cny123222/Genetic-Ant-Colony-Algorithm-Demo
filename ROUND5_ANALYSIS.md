# Round 5: 针对"过早收敛"的改进

## Round 4 问题分析

### 训练曲线特征
```
Gen 1-250:   缓慢爬升（-90 → 100+）
Gen 250-300: 加速突破（100 → 132）
Gen 300-336: 继续进步（132 → 153.29）
Gen 336-400: 🚨 完全停滞（130-140波动，无突破）
```

### 根本问题：过早收敛（Premature Convergence）

**诊断依据**：
1. ✗ 最后64代（16%训练时间）零突破
2. ✗ 当前代最佳fitness波动大（120-152）说明种群质量不稳定
3. ✗ 153.29离目标200+还很远，说明能力未饱和

**病因分析**：
1. **种群多样性丧失**
   - 精英个体（153.29）基因过早主导种群
   - 其他个体通过交叉/选择逐渐趋同
   - 缺乏"新鲜血液"探索新区域

2. **局部最优陷阱**
   - 当前最优解可能是局部最优
   - 变异力度（0.25 × 0.5）不足以跳出
   - 36K+参数空间，需要更大跳跃

3. **选择压力过大**
   - 锦标赛5人，精英3个
   - 优秀基因快速扩散，多样性下降
   - 探索vs利用失衡

## Round 5 针对性改进

### 策略1: 增大种群多样性
```
种群大小: 180 → 200 (+11%)
```
**理由**：更多个体 = 更多探索方向 = 降低收敛速度

### 策略2: 增强变异力度
```
变异率: 0.25 → 0.30 (+20%)
变异幅度: 0.5 → 0.6 (+20%)
实际变异强度: 0.125 → 0.18 (+44%)
```
**理由**：更大的参数扰动，能跳出局部最优

### 策略3: 降低选择压力
```
精英比例: 1.5% (3个) → 1.0% (2个)
锦标赛: 5人 → 4人
交叉率: 0.75 → 0.75 (保持)
```
**理由**：延缓优势基因主导，保持多样性更久

### 策略4: 延长训练时间
```
训练代数: 400 → 500 (+25%)
```
**理由**：给突破更多机会，尤其是后期可能的厚积薄发

### 策略5: 提高评估质量（新增）
```
评估次数: 1 → 2
NEW RECORD时用原始seed录视频
```
**理由**：
- 减少环境随机性影响，选择更准确
- 视频真实反映突破时刻的表现

## 预期效果

### 时间成本
```
Round 4: 180个体 × 400代 × 1次评估 = 72,000次环境运行
Round 5: 200个体 × 500代 × 2次评估 = 200,000次环境运行 (~2.8倍)

预计训练时间: Round 4的3小时 → Round 5的8-9小时
```

### 性能预期
| 指标 | Round 4 | Round 5目标 |
|------|---------|------------|
| 最佳Fitness | 153.29 | **>200** |
| 停滞代数 | 64代 | <30代 |
| 收敛速度 | 快 | 适中 |
| 最终能否行走 | 否 | **是** |

## 关键创新

1. **对症下药**：针对"过早收敛"这个具体问题
2. **多管齐下**：从种群、变异、选择、时间多维度改进
3. **质量优先**：多次评估减少随机性
4. **耐心训练**：500代 + 更大种群，给算法充足时间

## 成功标准

✅ 最佳Fitness > 200
✅ 视频中机器人能稳定走到终点
✅ 训练曲线在后期仍有上升趋势
✅ 停滞不超过50代

